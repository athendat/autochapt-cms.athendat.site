"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[799],{7799:(k,v,n)=>{n.r(v),n.d(v,{default:()=>E});var p=n(177),e=n(4438),b=n(8834),f=n(6467),x=n(9213),C=n(9042),F=n(5416),j=n(7062),y=n(9079),i=n(1849),s=n(6601),o=n(4794),a=n(1242);const l=(r,h)=>h.$id,d=r=>({"text-blue-600":r});function c(r,h){if(1&r){const t=e.RV6();e.j41(0,"fuse-card",12)(1,"span",13),e.EFF(2,"\u201c"),e.k0s(),e.j41(3,"div",14),e.EFF(4),e.k0s(),e.j41(5,"div",15)(6,"div",16),e.nrm(7,"mat-icon",17),e.j41(8,"span",18),e.EFF(9),e.k0s()(),e.j41(10,"div",16),e.nrm(11,"mat-icon",17),e.j41(12,"span",18),e.EFF(13),e.k0s()(),e.j41(14,"div",16),e.nrm(15,"mat-icon",17),e.j41(16,"span",18),e.EFF(17),e.k0s()()(),e.nrm(18,"hr",19),e.j41(19,"div",20)(20,"button",21),e.bIt("click",function(){const u=e.eBV(t).$implicit,g=e.XpG(2);return e.Njj(g.deleteMessageById(u.$id))}),e.nrm(21,"mat-icon",22),e.j41(22,"span",23),e.EFF(23,"Eliminar"),e.k0s()(),e.j41(24,"button",21),e.bIt("click",function(){const u=e.eBV(t).$implicit,g=e.XpG(2);return e.Njj(g.markAsRead(u))}),e.nrm(25,"mat-icon",24),e.j41(26,"span",23),e.EFF(27,"Le\xeddo"),e.k0s()(),e.j41(28,"button",21),e.bIt("click",function(){const u=e.eBV(t).$implicit,g=e.XpG(2);return e.Njj(g.markAsAttended(u))}),e.nrm(29,"mat-icon",24),e.j41(30,"span",23),e.EFF(31,"Atendido"),e.k0s()()()()}if(2&r){const t=h.$implicit;e.R7$(4),e.SpI(" \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ",t.message," "),e.R7$(3),e.Y8G("svgIcon","heroicons_outline:user"),e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("svgIcon","heroicons_outline:at-symbol"),e.R7$(2),e.JRh(t.email),e.R7$(2),e.Y8G("svgIcon","heroicons_outline:phone"),e.R7$(2),e.JRh(t.phone),e.R7$(4),e.Y8G("svgIcon","heroicons_outline:trash"),e.R7$(4),e.Y8G("ngClass",e.eq3(12,d,t.read))("svgIcon","heroicons_outline:envelope-open"),e.R7$(4),e.Y8G("ngClass",e.eq3(14,d,t.attended))("svgIcon","heroicons_outline:document-check")}}function R(r,h){if(1&r&&(e.j41(0,"div",11),e.Z7z(1,c,32,16,"fuse-card",12,l),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Dyx(t.store.messages())}}function A(r,h){1&r&&(e.j41(0,"div",25),e.EFF(1," \xa1No se ha recibido ning\xfan mensaje a\xfan! "),e.k0s())}const E=[{path:"",component:(()=>{class r{constructor(){this.store=(0,e.WQX)(a.A),this.#e=(0,e.WQX)(e.gRc),this.#n=(0,e.WQX)(e.abz),this.#s=(0,e.WQX)(s.G),this.#t=(0,e.WQX)(F.UG)}#e;#n;#s;#t;markAsRead(t){t.read=!t.read,this.store.update(t).then(()=>{this.#t.openFromComponent(o.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Mensaje marcado como le\xeddo",title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.store.loadAll(),this.#e.markForCheck()})}markAsAttended(t){t.attended=!t.attended,this.store.update(t).then(()=>{this.#t.openFromComponent(o.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Mensaje marcado como atendido",title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.store.loadAll(),this.#e.markForCheck()})}deleteMessageById(t){this.#s.open({title:"Eliminar mensaje",message:"\xbfEsta seguro que desea eliminar este mensaje?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,y.pQ)(this.#n)).subscribe(u=>{"confirmed"===u&&this.store.delete(t).then(()=>{this.#t.openFromComponent(o.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Mensaje eliminado correctamente",title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.store.loadAll(),this.#e.markForCheck()})})}static#o=this.\u0275fac=function(m){return new(m||r)};static#i=this.\u0275cmp=e.VBU({type:r,selectors:[["app-messages"]],standalone:!0,features:[e.aNF],decls:17,vars:2,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/home",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-3","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","justify-center","flex-auto","p-6","sm:p-8"],[1,"flex","flex-wrap","items-start","w-full","gap-5","-m-4"],[1,"relative","flex","flex-col","w-full","p-8","max-w-100","filter-testimonial"],[1,"absolute","top-0","left-0","mt-8","ml-8","font-serif","leading-none","text-9xl","text-primary"],[1,"mt-4","text-lg","italic","leading-relaxed"],[1,"flex","flex-col","mt-3","space-y-4"],[1,"flex","items-center"],[1,"mr-3","icon-size-5",3,"svgIcon"],[1,"leading-none"],[1,"w-full","my-6","border-t"],[1,"flex","items-center","mx-3","sm:mx-5"],["mat-button","",1,"px-3","mr-1",3,"click"],[1,"text-red-500","icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"icon-size-5",3,"ngClass","svgIcon"],[1,"w-full","p-8","text-4xl","font-semibold","tracking-tight","text-center","sm:p-16"]],template:function(m,u){1&m&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e.EFF(6,"Inicio"),e.k0s()(),e.j41(7,"div",5),e.nrm(8,"mat-icon",6),e.j41(9,"a",7),e.EFF(10,"Mensajes"),e.k0s()()(),e.j41(11,"div",8)(12,"h2",9),e.EFF(13," Mensajes recibidos "),e.k0s()()()(),e.j41(14,"div",10),e.DNE(15,R,3,0,"div",11)(16,A,2,0),e.k0s()()),2&m&&(e.R7$(8),e.Y8G("svgIcon","heroicons_outline:chevron-right"),e.R7$(7),e.vxM(15,u.store.messages().length>0?15:16))},dependencies:[i.$,b.Hl,b.$z,f.RG,x.m_,x.An,C.fS,p.YU,j.Wk],encapsulation:2,changeDetection:0})}return r})()}]},9079:(k,v,n)=>{n.d(v,{pQ:()=>f});var p=n(4438),e=n(1985),b=n(6977);function f(i){i||((0,p.Af3)(f),i=(0,p.WQX)(p.abz));const s=new e.c(o=>i.onDestroy(o.next.bind(o)));return o=>o.pipe((0,b.Q)(s))}}}]);